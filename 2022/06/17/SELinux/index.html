<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> SELinux 简介 · VictorV的小博客</title><meta name="description" content="SELinux 简介 - VictorV"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://474172261.github.io/atom.xml" title="VictorV的小博客"><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="VictorV的小博客" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/images/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/vv474172261" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/474172261" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">SELinux 简介</h1><div class="post-info">2022年6月17日</div><div class="post-content"><p>测试中时常涉及到SELinux, 但是又不太懂咋回事. 学习一下, 整理出来, 希望可以帮到有疑惑的人</p>
<span id="more"></span>

<p>默认情况下, linux的权限隔离是依据用户的权限来划分的, 称为自主访问控制(DAC). 而SELinux是根据进程和资源划分类和访问权限的. 两者不矛盾, 可以一起存在. </p>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>要使用和管理selinux, 需要一些命令, 需要安装一下:</p>
<p>以centos7为例:</p>
<p><code>sesearch</code>: <code>yum install setools-console</code></p>
<p><code>semanage</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ yum provides semanage</span><br><span class="line">...</span><br><span class="line">policycoreutils-python-2.5-34.el7.x86_64 : SELinux policy core python utilities</span><br><span class="line">Repo        : base</span><br><span class="line">Matched from:</span><br><span class="line">Filename    : /usr/sbin/semanage</span><br><span class="line"></span><br><span class="line">$ yum install policycoreutils-python-2.5-34.el7.x86_64</span><br></pre></td></tr></table></figure>

<p><code>sealert</code>:  与semanage类似. 比如centos7是<code>yum install setroubleshoot-server-3.2.30-8.el7.x86_64</code>. 当然没有它也不要紧.</p>
<h1 id="工作模式"><a href="#工作模式" class="headerlink" title="工作模式"></a>工作模式</h1><ol>
<li><code>enforcing</code>：强制模式。违反 SELinux 规则的行为将被<strong>阻止</strong>并<strong>记录到日志中</strong>。</li>
<li><code>permissive</code>：宽容模式。违反 SELinux 规则的行为只会<strong>记录到日志中</strong>。一般为调试用。</li>
<li><code>disabled</code>：关闭 SELinux。</li>
</ol>
<p>通过命令<code>getenforce</code>可以查看当前状态, 通过<code>setenforce</code>可以更改它.</p>
<blockquote>
<p>Ubuntu如果没有命令, 可以<code>apt install selinux-utils</code>安装. 默认情况下Ubuntu不启用SELinux, 而是apparmor</p>
</blockquote>
<h1 id="查看规则"><a href="#查看规则" class="headerlink" title="查看规则"></a>查看规则</h1><p>使用<code>sesearch -A</code>可以查看所有允许的规则. (非”允许规则”就是不允许)</p>
<p>举例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sesearch -A|grep syslogd_t</span><br><span class="line">allow syslogd_t tmp_t : dir &#123; ioctl read write getattr lock add_name remove_name search open &#125; ;</span><br></pre></td></tr></table></figure>

<p>格式为<code>ALLOW (src type) (dst type):class &#123; allowed attributes &#125;;</code></p>
<p>通过<code>chcon -u aaa_u -r bbb_r -t ccc_t test</code>可以临时修改文件的规则</p>
<p><code>semanage fcontext --list</code> 可以查看文件或者文件夹对于的type规则.</p>
<p><code>semodule -l</code>可以查看已经安装的module里封装的规则</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ semodule -l</span><br><span class="line">...</span><br><span class="line">varnishd        1.2.0</span><br><span class="line">vdagent 1.1.1</span><br><span class="line">vhostmd 1.1.0</span><br><span class="line">virt    1.5.0</span><br><span class="line">vlock   1.2.0</span><br><span class="line">vmtools 1.0.0</span><br><span class="line">vmware  2.7.0</span><br><span class="line">vnstatd 1.1.0</span><br><span class="line">vpn     1.16.0</span><br><span class="line">w3c     1.1.0</span><br><span class="line">watchdog        1.8.0</span><br><span class="line">wdmd    1.1.0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>如果我们想了解vmtools的规则, 可以这样:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ semodule -E vmtools</span><br></pre></td></tr></table></figure>

<p>执行完成后, 可以看到目录下生成了vmtools.pp文件.</p>
<p>使用<code>sedismod</code>查看规则:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">$ sedismod vmtools.pp</span><br><span class="line">Reading policy...</span><br><span class="line">libsepol.policydb_index_others: security:  0 users, 4 roles, 112 types, 4 bools</span><br><span class="line">libsepol.policydb_index_others: security: 1 sens, 1024 cats</span><br><span class="line">libsepol.policydb_index_others: security:  101 classes, 0 rules, 0 cond rules</span><br><span class="line">libsepol.policydb_index_others: security:  0 users, 4 roles, 112 types, 4 bools</span><br><span class="line">libsepol.policydb_index_others: security: 1 sens, 1024 cats</span><br><span class="line">libsepol.policydb_index_others: security:  101 classes, 0 rules, 0 cond rules</span><br><span class="line">Binary policy module file loaded.</span><br><span class="line">Module name: vmtools</span><br><span class="line">Module version: 1.0.0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Select a command:</span><br><span class="line">1)  display unconditional AVTAB</span><br><span class="line">2)  display conditional AVTAB</span><br><span class="line">3)  display users</span><br><span class="line">4)  display bools</span><br><span class="line">5)  display roles</span><br><span class="line">6)  display types, attributes, and aliases</span><br><span class="line">7)  display role transitions</span><br><span class="line">8)  display role allows</span><br><span class="line">9)  Display policycon</span><br><span class="line">0)  Display initial SIDs</span><br><span class="line"></span><br><span class="line">a)  Display avrule requirements</span><br><span class="line">b)  Display avrule declarations</span><br><span class="line">c)  Display policy capabilities</span><br><span class="line">l)  Link in a module</span><br><span class="line">u)  Display the unknown handling setting</span><br><span class="line">F)  Display filename_trans rules</span><br><span class="line"></span><br><span class="line">f)  set output file</span><br><span class="line">m)  display menu</span><br><span class="line">q)  quit</span><br><span class="line"></span><br><span class="line">Command (&#x27;m&#x27; for menu):</span><br></pre></td></tr></table></figure>

<p>这里我们输入1, 显示unconditional规则</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">unconditional avtab:</span><br><span class="line">--- begin avrule block ---</span><br><span class="line">decl 1:</span><br><span class="line">  allow vmtools_t vmtools_exec_t : [file] &#123; entrypoint &#125;;</span><br><span class="line">  allow vmtools_t vmtools_exec_t : [file] &#123; ioctl read getattr lock map execute execute_no_trans open &#125;;</span><br><span class="line">  type_transition [initrc_domain] vmtools_exec_t : [process]  vmtools_t;</span><br><span class="line">  allow vmtools_helper_t vmtools_helper_exec_t : [file] &#123; entrypoint &#125;;</span><br><span class="line">  allow vmtools_helper_t vmtools_helper_exec_t : [file] &#123; ioctl read getattr lock map execute execute_no_trans open &#125;;</span><br><span class="line">  allow vmtools_t self : [capability] &#123; sys_rawio sys_time &#125;;</span><br><span class="line">  allow vmtools_t self : [fifo_file] &#123; ioctl read write getattr lock append open &#125;;</span><br><span class="line">  allow vmtools_t self : [unix_stream_socket] &#123; ioctl read write create getattr setattr lock append bind connect listen accept getopt setopt shutdown &#125;;</span><br><span class="line">  allow vmtools_t self : [unix_dgram_socket] &#123; ioctl read write create getattr setattr lock append bind connect getopt setopt shutdown &#125;;</span><br><span class="line">  allow vmtools_t vmtools_tmp_t : [dir] &#123; ioctl read write getattr lock add_name remove_name search open &#125;;</span><br><span class="line">  allow vmtools_t vmtools_tmp_t : [dir] &#123; ioctl read write create getattr setattr lock unlink link rename add_name remove_name reparent search rmdir open &#125;;</span><br><span class="line">  allow vmtools_t vmtools_tmp_t : [dir] &#123; ioctl read write getattr lock add_name remove_name search open &#125;;</span><br><span class="line">  allow vmtools_t vmtools_tmp_t : [file] &#123; ioctl read write create getattr setattr lock append unlink link rename open &#125;;</span><br><span class="line">  allow vmtools_t vmtools_tmp_t : [dir] &#123; ioctl read</span><br><span class="line">  ....</span><br></pre></td></tr></table></figure>



<h1 id="Security-Context"><a href="#Security-Context" class="headerlink" title="Security Context"></a>Security Context</h1><p><img src="/images/SELinux/v2-bb095bfd7450ecbcc799323ef62f66cc_720w.jpg" alt="img"></p>
<p>进程的type也称为Domain.</p>
<p>unconfined_t是无限制的domain. 一般登录用户启动的程序为这个domain.</p>
<p><code>ls -Z</code>可以查看文件的security context.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost vv]# ls -Z /root/</span><br><span class="line">-rw-------. root root system_u:object_r:admin_home_t:s0 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. root root system_u:object_r:admin_home_t:s0 initial-setup-ks.cfg</span><br><span class="line">-rw-r--r--. root root unconfined_u:object_r:admin_home_t:s0 t2</span><br></pre></td></tr></table></figure>

<p><code>ps -auxZ</code>可以查看进程的security context.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">system_u:system_r:kernel_t:s0   root        569  0.0  0.0      0     0 ?        S&lt;   May04   0:00 [xfs-eofblocks/s]</span><br><span class="line">system_u:system_r:kernel_t:s0   root        572  0.0  0.0      0     0 ?        S    May04   0:00 [xfsaild/sda1]</span><br><span class="line">system_u:system_r:auditd_t:s0   root        654  0.0  0.0  55504   460 ?        S&lt;sl May04   0:00 /sbin/auditd</span><br><span class="line">system_u:system_r:audisp_t:s0   root        656  0.0  0.0  84548   580 ?        S&lt;sl May04   0:00 /sbin/audispd</span><br></pre></td></tr></table></figure>

<h1 id="Domain-Transition"><a href="#Domain-Transition" class="headerlink" title="Domain Transition"></a>Domain Transition</h1><p>假如进程A属于Domain a, 它启动了一个程序X, 程序X启动后的Domain是Domain b. 我们就称之为Domain Transition.</p>
<p>实现这个需要满足3个前提:</p>
<ol>
<li><p>Domain a 和Domain b有程序文件X的 execute 属性</p>
</li>
<li><p>Domain a允许迁移到Domain b. (即 process transition 属性)</p>
</li>
<li><p>文件X是Domain b的 entrypoint. 比如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sesearch -A|grep vmtools_t|grep entrypoint</span><br><span class="line">   allow vmtools_t vmtools_exec_t : file &#123; ioctl read getattr lock map execute execute_no_trans entrypoint open &#125; ;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果是在pp文件里, 就形如 <code>type_transition [initrc_domain] vmtools_exec_t : [process]  vmtools_t;</code></p>
</blockquote>
</li>
</ol>
<p>举例: <strong>init_t</strong>到<strong>httpd_t</strong>的Domain Transition:</p>
<p>先查看vftpd的文件和进程的security context:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -Z /usr/sbin/vsftpd</span><br><span class="line">-rwxr-xr-x. root root system_u:object_r:ftpd_exec_t:s0 /usr/sbin/vsftpd</span><br><span class="line">[root@localhost ~]# ps -auxZ|grep vftpd</span><br><span class="line">system_u:object_r:ftpd_t:s0-s0:c0.c1023 root 2829 0.0  0.0 112660 964 pts/1 R+ 07:42   0:00 grep --color=auto vftpd</span><br></pre></td></tr></table></figure>

<p>可以看到文件是ftpd_exec_t type, 进程的domain是ftpd_t( 如果没有配置SELinux, 进程的security context可能是unconfined_u:unconfined_r:unconfined_t)</p>
<p>接下来查看init_t到ftpd_exec_t的规则:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sesearch -s init_t -t ftpd_exec_t -c file -p execute -Ad</span><br><span class="line">Found 1 semantic av rules:</span><br><span class="line">   allow init_t ftpd_exec_t : file &#123; read getattr execute open &#125; ; </span><br></pre></td></tr></table></figure>
<p>可以看到init_t有ftpd_exec_t Type的execute属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sesearch -s ftpd_t -t ftpd_exec_t -c file -p entrypoint -Ad</span><br><span class="line">Found 1 semantic av rules:</span><br><span class="line">   allow ftpd_t ftpd_exec_t : file &#123; ioctl read getattr lock execute execute_no_trans entrypoint open &#125; ;</span><br></pre></td></tr></table></figure>
<p>可以看到ftpd_t有ftpd_exec_t Type的execute属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sesearch -s init_t -t ftpd_t -c process -p transition -Ad</span><br><span class="line">Found 1 semantic av rules:</span><br><span class="line">   allow init_t ftpd_t : process transition ;</span><br></pre></td></tr></table></figure>

<h1 id="错误信息的处理"><a href="#错误信息的处理" class="headerlink" title="错误信息的处理"></a>错误信息的处理</h1><p>通过<code>ausearch</code>命令可以获取错误消息. 也可以直接读取<code>/var/log/audit/audit.log</code>, 带有<code>AVC</code>(Access Vector Cache, 很奇葩的名字)的就是拒绝的log.</p>
<p>比如: 执行<code>runcon system_u:system_r:syslogd_t:s0 /bin/ls -l /</code>会失败, 查看错误结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ausearch -m AVC,USER_AVC,SELINUX_ERR,USER_SELINUX_ERR|grep runcon</span><br><span class="line">type=AVC msg=audit(1651855998.065:528): avc:  denied  &#123; entrypoint &#125; for  pid=4634 comm=&quot;runcon&quot; path=&quot;/usr/bin/ls&quot; dev=&quot;dm-0&quot; ino=25307027 scontext=system_u:system_r:syslogd_t:s0 tcontext=system_u:object_r:bin_t:s0 tclass=file</span><br></pre></td></tr></table></figure>

<ul>
<li><code>avc: denied</code> - the action performed by SELinux and recorded in Access Vector Cache (AVC)</li>
<li><code>&#123; entrypoint&#125;</code> - the denied action</li>
<li><code>pid=4634</code>- the process identifier of the subject that tried to perform the denied action</li>
<li><code>comm=&quot;runcon&quot;</code> - the name of the command that was used to invoke the analyzed process</li>
<li><code>syslogd_t</code> - the SELinux type of the process</li>
<li><code>bin_t</code> - the SELinux type of the object affected by the process action</li>
<li><code>tclass=file</code> - the target object class</li>
</ul>
<p>翻译一下就是, 进程runcon(pid:4634)下从syslogd_t类型去运行bin_t类型的 “&#x2F;usr&#x2F;bin&#x2F;ls”文件时, syslogd_t没有该文件的entrypoint权限. </p>
<p>这是为什么呢? 我的猜想是, runcon由于是用户启动的, 所以在unconfined_t域, runcon会调用<code>setexeccon</code>, 该函数功能是在下一次执行execve的时候, 更改加载程序的security context. 这个操作应该会触发一个Domain Transition, 从unconfined_t 到 syslogd_t, 而Domain Transition有3个前提, 其中一个是就是需要目标domain有文件的entrypoint属性. 而syslogd_t没有bint_t的entrypoint属性. 从而导致没有权限.</p>
<h1 id="添加规则"><a href="#添加规则" class="headerlink" title="添加规则"></a>添加规则</h1><p>使用audit2allow可以生成规则建议:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ausearch -m AVC|grep  runcon</span><br><span class="line">type=AVC msg=audit(1651857472.707:540): avc:  denied  &#123; entrypoint &#125; for  pid=4774 comm=&quot;runcon&quot; path=&quot;/usr/bin/ls&quot; dev=&quot;dm-0&quot; ino=25307027 scontext=system_u:system_r:syslogd_t:s0 tcontext=system_u:object_r:bin_t:s0 tclass=file</span><br><span class="line">[root@localhost ~]# ausearch -m AVC|grep  runcon|audit2allow -a</span><br><span class="line"></span><br><span class="line">#============= syslogd_t ==============</span><br><span class="line"></span><br><span class="line">#!!!! WARNING: &#x27;bin_t&#x27; is a base type.</span><br><span class="line">allow syslogd_t bin_t:file entrypoint;</span><br></pre></td></tr></table></figure>

<p>生成规则:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ausearch -m AVC|grep  runcon|audit2allow -M test2</span><br><span class="line">******************** IMPORTANT ***********************</span><br><span class="line">To make this policy package active, execute:</span><br><span class="line"></span><br><span class="line">semodule -i test2.pp</span><br></pre></td></tr></table></figure>

<p>它会生成两个文件<code>test2.pp</code>和<code>test2.te</code>, te文件就是规则的实际描述文件,</p>
<p>安装规则: <code>semodule -i test2.pp</code></p>
<p>安装后查看:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sesearch -A|grep syslogd_t|grep entrypoint</span><br><span class="line">   allow syslogd_t bin_t : file &#123; ioctl read getattr lock map execute execute_no_trans entrypoint open &#125; ;</span><br><span class="line">   allow syslogd_t syslogd_exec_t : file &#123; ioctl read getattr lock map execute execute_no_trans entrypoint open &#125; ;</span><br></pre></td></tr></table></figure>

<p>可以看到规则已经添加进去了.</p>
<p><a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/security-enhanced_linux/sect-security-enhanced_linux-fixing_problems-allowing_access_audit2allow">ALLOWING ACCESS: AUDIT2ALLOW</a></p>
<p><a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/using_selinux/writing-a-custom-selinux-policy_using-selinux">WRITING A CUSTOM SELINUX POLICY</a></p>
<h1 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h1><p>通过<code>runcon</code>可以以特定domain运行特定程序</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/an-introduction-to-selinux-on-centos-7-part-2-files-and-processes">An Introduction to SELinux on CentOS 7 – Part 2: Files and Processes</a></p>
<p><a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/using_selinux/writing-a-custom-selinux-policy_using-selinux">WRITING A CUSTOM SELINUX POLICY</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2022/08/11/CVE-2022-35804/" class="prev">上一篇</a><a href="/2022/06/17/windows-debug-setting/" class="next">下一篇</a></div><div id="container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><div id="gitalk-container"></div><script>const gitalk = new Gitalk({
    clientID: '28b1a73c3ed656a9a85d',     
    clientSecret: '59837bb4cbe7b2f12df366fdbcb37fa4ba084d44',     
    id: 'Fri Jun 17 2022 19:38:05 GMT+0800',    
    repo: 'blog-comment',     
    owner: '474172261',     
    admin: '474172261',     
})   
gitalk.render('gitalk-container')</script><div class="copyright"><p>© 2015 - 2022 <a href="http://474172261.github.io">VictorV</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>